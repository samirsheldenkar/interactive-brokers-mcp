# Smithery configuration file: https://smithery.ai/docs/build/project-config

startCommand:
  type: stdio
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => ({ command: 'node', args: ['dist/index.js'], env: {
      IB_HEADLESS_MODE: config.IB_HEADLESS_MODE,
      IB_USERNAME: config.IB_USERNAME,
      IB_PASSWORD_AUTH: config.IB_PASSWORD_AUTH,
      IB_AUTH_TIMEOUT: config.IB_AUTH_TIMEOUT,
      IB_READ_ONLY_MODE: config.IB_READ_ONLY_MODE
    } })
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    properties:
      IB_HEADLESS_MODE:
        type: boolean
        description: "Enable headless authentication (default: false)"
        default: false
      IB_USERNAME:
        type: string
        description: "IB username for headless authentication"
      IB_PASSWORD_AUTH:
        type: string
        description: "IB password for headless authentication"
        format: "password"
      IB_AUTH_TIMEOUT:
        type: number
        description: "Authentication timeout in milliseconds (default: 60000)"
        default: 60000
      IB_READ_ONLY_MODE:
        type: boolean
        description: "Enable read-only mode (default: false)"
        default: false
  exampleConfig:
    IB_HEADLESS_MODE: true
    IB_USERNAME: "your_ib_username"
    IB_PASSWORD_AUTH: "your_ib_password"
    IB_AUTH_TIMEOUT: 60000
    IB_READ_ONLY_MODE: false